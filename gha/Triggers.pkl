// ==-----------------------------------------------------------== //
// SPDX-FileCopyrightText: Â© 2025 Nayan Patil <nayantsg@proton.me>
//
// SPDX-License-Identifier: Apache-2.0
// ==-----------------------------------------------------------== //

@ModuleInfo { minPklVersion = "0.27.0" }
module Triggers

import "../schemas/GitHubAction.pkl" as gha

const function wDispatchEventSim() = new gha.WorkflowInput {
  description = "Specify which event to simulate"
  required = false
  default = "push"
  type = "choice"
  options {
    "pull_request"
    "push"
  }
}

const function wDispatchReleaseType() = new gha.WorkflowInput {
  description = "Choose type of release"
  required = true
  default = "pre-release"
  type = "choice"
  options {
    "pre-release"
    "stable-release"
  }
}

const function wDispatchReleaseTag() = new gha.WorkflowInput {
  description = "Provide the existing tag to be used for the release"
  required = true
  type = "string"
}

const function prBranches() = new Listing<String> {
  "develop"
  "release/**"
  "release-sync/feature/**"
  "release-sync/bugfix/**"
  "release-sync/hotfix/**"
}

const function pklPaths() = new Listing<String> {
  "*.pkl"
  "**/*.pkl"
  "stdschema/**"
  "tools/**"
  "*.kts"
  "**/*.kts"
  "gradle/**"
  "gradlew"
  "gradlew.bat"
  "justfile"
}

const function rustPaths() = new Listing<String> {
  "*.rs"
  "**/*.rs"
  "src/**"
  "crates/**"
  ".cargo/**"
  "Cargo.toml"
  "Cargo.lock"
  "**/Cargo.toml"
  "**/Cargo.lock"
  "deny.toml"
}
